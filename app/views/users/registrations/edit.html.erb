<div class="container my-5">

    <h1 class="h2">Mon compte</h1>
    <div class="row">

        <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
            <%= f.error_notification %>
            <div class="col-12">

                <div class="row mt-4">

                    <div class="col-12">
                        <legend class="h5"><i class="fas fa-at"></i> Mes identifiants</legend>
                        <hr>
                    </div>

                    <div class="col-xs-12 col-lg-4">
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                        </p>
                    </div>

                    <div class="col-xs-12 col-lg-8">

                        <%= f.input :email, autofocus: true, required: true %>

                        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                            <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
                        <% end %>

                        <%= f.input :password, hint: true, required: false, input_html: { autocomplete: "new-password" } %>
                        <%= f.input :password_confirmation, hint: true, required: false, input_html: { autocomplete: "new-password" } %>
                    </div>

                </div>

                <div class="form-actions d-none d-lg-flex justify-content-end">
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editCredentialsModal">
                    Modifier vos informations
                    </button>
                </div>

                <div class="form-actions d-block d-lg-none">
                    <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#editCredentialsModal">
                    Modifier vos informations
                    </button>
                </div>


                <!-- Modal -->
                <div class="modal fade" id="editCredentialsModal" tabindex="-1" role="dialog" aria-labelledby="editCredentialsModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="editCredentialsModalLabel">Validez vos modifications</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                        <p>Pour des raisons de sécurité, veuillez renseigner votre mot de passe actuel pour valider vos modifications.</p>
                        <%= f.input :current_password, input_html: { autocomplete: "current-password" }, required: true %>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                        <%= f.button :submit, "Valider", :class => "btn btn-primary" %>
                        </div>
                    </div>
                    </div>
                </div>

            </div>
        <% end %>

        <div class="col-12">

            <div class="row mt-4">

            <div class="col-12">

                <div class="h5"><i class="fas fa-user-slash"></i> Vous ne désirez plus utiliser nos services ?</div>
                <hr>
                <p>Cette action est irréversible, votre compte sera supprimé du site, toutes vos données seront également définitivement supprimées ainsi que vos éventuelles annonces, postulations, CV dynamique, etc.</p>
                
                <div class="form-actions d-none d-lg-flex justify-content-end">
                    <%= link_to "Supprimer mon compte", registration_path(current_user), data: { confirm: "Etes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible" }, method: :delete, :class => "btn btn-danger" %>
                </div>

                <div class="form-actions d-block d-lg-none">
                    <%= link_to "Supprimer mon compte", registration_path(current_user), data: { confirm: "Etes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible" }, method: :delete, :class => "btn btn-danger btn-block" %>
                </div>

            </div>

            </div>

        </div>

    </div>

</div>